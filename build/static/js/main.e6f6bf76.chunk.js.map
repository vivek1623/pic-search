{"version":3,"sources":["data/config/constants.js","data/config/utils.js","components/header/index.js","components/footer/index.js","components/imagecard/index.js","components/errorboundary/index.js","components/album/index.js","components/loader/index.js","app/index.js","serviceWorker.js","index.js"],"names":["API_KEY","APP_LAYOUT","LOCAL_STORAGE","checkDevice","screen_data","screen_width","window","innerWidth","screen_height","innerHeight","screen_orientation","this","screen_type","matchMedia","matches","deviceStatus","getColumns","getDataFromLocalStorage","key","undefined_return_value","data","localStorage","getItem","undefined","JSON","parse","Search","Input","Header","props","title","search_text","show_search_overlay","search_keys","onSearch","onChange","onClickSearchKey","className","style","height","xs","span","offset","sm","md","visible","overlay","map","search_key","index","Item","onClick","placeholder","value","React","PureComponent","Footer","ImageCard","onClickCard","img_data","src","url","alt","minHeight","defaultProps","ErrorBoundary","state","hasError","error","errorInfo","console","log","setState","children","Component","Album","showImageInModal","selected_image_data","show_modal","closeModal","renderAlbumColumns","columns","images","column","i","lg","image_data","length","id","footer","maskClosable","onCancel","Loader","count","item","App","startLoading","loading","stopLoading","showMessage","type","msg","Message","message","setDeviceData","clearTimeout","timeout","setTimeout","device_data","fetchRecentImages","callback","next_page","axios","method","validateStatus","status","then","res","photos","photo","convertInImagesList","has_more_images","catch","fetchImagesBySearchTag","tag","img_obj","farm","server","secret","push","onImageSearch","trim","findIndex","slice","json_data","stringify","setItem","setDataInLocalStorage","onChangeSearchText","event","text","target","filterd_search_keys","filter","toLowerCase","indexOf","debouncedImageSearch","fetchMoreImages","func","delay","timerId","args","debounced","addEventListener","removeEventListener","paddingTop","scrollableTarget","dataLength","hasMore","loader","endMessage","scrollThreshold","next","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e6f6bf76.chunk.js","sourcesContent":["export const API_KEY = 'e13988f0e5bd9eec2f6be3766d85a1b1';\n\nexport const PER_PAGE_COUNT = 10;\n\nexport const APP_LAYOUT = { //in px\n  APP_HEADER_HEIGHT: 100,\n};\n\nexport const LOCAL_STORAGE = {\n  SEARCH_KEY: 'imageSearchKey',\n}\n","export const checkDevice = {\n  screen_data: function () {\n    return (\n      {\n        screen_width: window.innerWidth,\n        screen_height: window.innerHeight,\n        screen_orientation: this.screen_orientation(),\n        screen_type: this.screen_type()\n      }\n    );\n  },\n  screen_orientation: function () {\n    if (window.matchMedia(\"(orientation:landscape)\").matches) {\n      return 'landscape';\n    } else {\n      return 'portrait';\n    }\n  },\n  screen_type: function () {\n    if (window.innerWidth < 576) {\n      return 'xs';\n    } else if (window.innerWidth < 768) {\n      return 'sm';\n    } else if (window.innerWidth < 992) {\n      return 'md';\n    } else if (window.innerWidth < 1200) {\n      return 'lg';\n    } else if (window.innerWidth < 1600) {\n      return 'xl';\n    } else if (window.innerWidth < 2560) {\n      return 'xxl';\n    } else {\n      return 'xxxl';\n    }\n  },\n  deviceStatus: function () {\n    return ({\n      ...this.screen_data()\n    });\n  }\n}\n\nexport const getColumns = screen_type => {\n  switch (screen_type) {\n    case 'xs': return ['c1'];\n    case 'sm': return ['c1', 'c2'];\n    case 'md': return ['c1', 'c2', 'c3'];\n    case 'lg':\n    case 'xl':\n    case 'xxl':\n    case 'xxxl': return ['c1', 'c2', 'c3', 'c4'];\n    default: return ['c1'];\n  }\n}\n\nexport const getImageUrl = photo => {\n  const url = `https://farm${photo.farm}.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}.jpg`;\n  return url;\n}\n\nexport const getDataFromLocalStorage = (key, undefined_return_value) => {\n  const data = localStorage.getItem(key);\n  return (data && data !== undefined ? JSON.parse(data) : undefined_return_value);\n}\n\nexport const setDataInLocalStorage = (key, data) => {\n  const json_data = JSON.stringify(data);\n  localStorage.setItem(key, json_data);\n}\n\nexport const filterArrayBySearchText = (text, array) => {\n  return array.filter(item => {\n    return (item && item !== undefined && item.toLowerCase().indexOf(text.toLowerCase()) === 0);\n  });\n}\n\nexport const debounced = (func, delay) => {\n  let timerId;\n  return (...args) => {\n    if (timerId)\n      clearTimeout(timerId);\n    timerId = setTimeout(() => {\n      func(...args);\n      timerId = null;\n    }, delay);\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Row from 'antd/es/row';\nimport Col from 'antd/es/col';\nimport Input from 'antd/es/input';\nimport Dropdown from 'antd/es/dropdown';\nimport Menu from 'antd/es/menu';\n\nimport 'antd/es/row/style/css';\nimport 'antd/es/col/style/css';\nimport 'antd/es/input/style/css';\nimport 'antd/es/dropdown/style/css';\nimport 'antd/es/menu/style/css';\n\nimport { APP_LAYOUT } from '../../data/config/constants';\n\nconst { Search } = Input;\n\nclass Header extends React.PureComponent {\n  render() {\n    const { title, search_text, show_search_overlay, search_keys, onSearch, onChange, onClickSearchKey } = this.props;\n    return (\n      <div className='sai-fixed sai-t-0 sai-l-0 sai-r-0 sai-bg-header sai-box-shadow sai-overflow-y-hidden' style={{ height: `${APP_LAYOUT.APP_HEADER_HEIGHT}px` }}>\n        <Row>\n          <Col xs={{ span: 20, offset: 2 }} sm={{ span: 12, offset: 6 }} md={{ span: 8, offset: 8 }} className='sai-t-pad-10'>\n            <h1 className='sai-font-bold sai-text-center sai-font-white sai-b-mrgn-10'>{title}</h1>\n            <Dropdown\n              visible={show_search_overlay}\n              overlay={\n                <Menu >\n                  {\n                    search_keys.map((search_key, index) => (\n                      <Menu.Item key={index} onClick={() => onClickSearchKey(search_key)}>{search_key}</Menu.Item>\n                    ))\n                  }\n                </Menu>\n              }>\n              <Search placeholder='Type to search photos' value={search_text} onSearch={onSearch} onChange={onChange} />\n            </Dropdown>\n          </Col>\n        </Row>\n      </div>\n\n    );\n  }\n}\n\nHeader.propTypes = {\n  search_text: PropTypes.string,\n  title: PropTypes.string,\n  onSearch: PropTypes.func,\n  onChange: PropTypes.func,\n  onClickSearchKey: PropTypes.func,\n  show_search_overlay: PropTypes.bool,\n  search_keys: PropTypes.array,\n}\n\nexport default Header;\n","import React from 'react';\n\nconst Footer = () => {\n  return (\n    <div className=\"sai-fixed sai-b-0 sai-l-0 sai-r-0 sai-pad-10 sai-text-center sai-bg-header sai-box-shadow sai-font-white\">\n      Created by Vivek Vaibhav\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageCard extends React.PureComponent {\n  onClickCard = () => {\n    const { img_data, onClick } = this.props;\n    onClick(img_data);\n  }\n\n  render() {\n    const { img_data } = this.props;\n    return (\n      <div className=\"sai-pad-5 sai-bg-white sai-box-shadow-light sai-border-radius-3\" onClick={this.onClickCard}>\n        <div className=\"sai-card-loading\">\n          <img className=\"sai-full-width\" src={img_data.url} alt=\"\" style={{minHeight:'150px'}} />\n        </div>\n      </div>\n    );\n  }\n}\n\nImageCard.propTypes = {\n  img_data: PropTypes.object.isRequired,\n  onClick: PropTypes.func,\n}\n\nImageCard.defaultProps = {\n  img_data: {}\n}\n\nexport default ImageCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.log('error', error);\n    console.log('errorInfo', errorInfo);\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    const { children } = this.props;\n    const { hasError } = this.state;\n    if (hasError)\n      return null;\n    return children;\n  }\n}\n\nErrorBoundary.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n};\n\nexport default ErrorBoundary;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Row from 'antd/es/row';\nimport Col from 'antd/es/col';\nimport Modal from 'antd/es/modal';\n\nimport 'antd/es/row/style/css';\nimport 'antd/es/col/style/css';\nimport 'antd/es/modal/style/css';\n\nimport ImageCard from '../imagecard';\nimport ErrorBoundary from '../errorboundary';\n\nclass Album extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      show_modal: false,\n      selected_image_data: null,\n    }\n  }\n\n  showImageInModal = selected_image_data => {\n    this.setState({\n      show_modal: true,\n      selected_image_data\n    })\n  }\n\n  closeModal = () => {\n    this.setState({\n      show_modal: false,\n      selected_image_data: null\n    })\n  }\n\n  renderAlbumColumns = () => {\n    const { columns, images } = this.props;\n    return columns.map((column, i) => {\n      return (\n        <Col key={column} xs={24} sm={12} md={8} lg={6}>\n          {\n            images.map((image_data, index) => {\n              if (index % columns.length === i)\n                return (\n                  <ErrorBoundary key={`${column}${index}${image_data.id}`}>\n                    <div className=\"sai-pad-5\">\n                      <ImageCard img_data={image_data} onClick={this.showImageInModal} />\n                    </div>\n                  </ErrorBoundary>\n                );\n              return null\n            })\n          }\n        </Col>\n      );\n    })\n  }\n\n  render() {\n    const { show_modal, selected_image_data } = this.state;\n    return (\n      <Row>\n        {this.renderAlbumColumns()}\n        <Modal className=\"sai-modal\" visible={show_modal} title={null} footer={null} maskClosable={false} onCancel={this.closeModal}>\n          {\n            show_modal &&\n            <ImageCard img_data={selected_image_data} />\n          }\n        </Modal>\n      </Row>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  columns: PropTypes.array.isRequired,\n  images: PropTypes.array,\n}\n\nAlbum.defaultProps = {\n  images: []\n}\n\nexport default Album;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Row from 'antd/es/row';\nimport Col from 'antd/es/col';\n\nimport 'antd/es/row/style/css';\nimport 'antd/es/col/style/css';\n\nclass Loader extends React.PureComponent {\n  render() {\n    const { count } = this.props;\n    return (\n      <Row>\n        {\n          count.map(item => (\n            <Col key={item} xs={24} sm={12} md={8} lg={6}>\n              <div className=\"sai-pad-5\">\n                <div className=\"sai-bg-white sai-pad-5 sai-box-shadow-light sai-border-radius-3\">\n                  <div className=\"sai-card-loading\" style={{ height: '150px' }} />\n                </div>\n              </div>\n            </Col>\n          ))\n        }\n      </Row>\n    );\n  }\n}\n\nLoader.propTypes = {\n  count: PropTypes.array.isRequired,\n}\n\nLoader.defaultProps = {\n  count: [1, 2, 3, 4]\n}\n\nexport default Loader;\n","import React from \"react\"\nimport axios from \"axios\"\nimport InfiniteScroll from \"react-infinite-scroll-component\"\nimport message from \"antd/es/message\"\n\nimport {\n  APP_LAYOUT,\n  API_KEY,\n  LOCAL_STORAGE,\n  PER_PAGE_COUNT,\n} from \"../data/config/constants\"\nimport {\n  checkDevice,\n  getColumns,\n  getImageUrl,\n  getDataFromLocalStorage,\n  setDataInLocalStorage,\n  filterArrayBySearchText,\n  debounced,\n} from \"../data/config/utils\"\n\nimport \"antd/es/message/style/css\"\n\nimport Header from \"../components/header\"\nimport Footer from \"../components/footer\"\nimport Album from \"../components/album\"\nimport Loader from \"../components/loader\"\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      images: [],\n      device_data: checkDevice.deviceStatus(),\n      columns: getColumns(checkDevice.deviceStatus().screen_type),\n      search_text: \"\",\n      next_page: 1,\n      has_more_images: true,\n      loading: false,\n      show_search_overlay: false,\n      search_keys: getDataFromLocalStorage(LOCAL_STORAGE.SEARCH_KEY, []),\n    }\n    this.debouncedImageSearch = debounced(this.onImageSearch, 1000)\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.setDeviceData)\n    this.startLoading()\n    this.fetchRecentImages(this.stopLoading)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.setDeviceData)\n  }\n\n  startLoading = () => {\n    this.setState({ loading: true })\n  }\n\n  stopLoading = () => {\n    this.setState({ loading: false })\n  }\n\n  showMessage = (type, msg) => {\n    const Message = message[type]\n    Message(msg)\n  }\n\n  setDeviceData = () => {\n    clearTimeout(this.timeout)\n    this.timeout = setTimeout(() => {\n      const device_data = checkDevice.deviceStatus()\n      this.setState({\n        device_data,\n        columns: getColumns(device_data.screen_type),\n      })\n    }, 300)\n  }\n\n  fetchRecentImages = (callback) => {\n    const { next_page } = this.state\n    axios({\n      method: \"GET\",\n      url: `https://www.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=${API_KEY}&per_page=${PER_PAGE_COUNT}&page=${next_page}&format=json&nojsoncallback=1&safe_search=2`,\n      validateStatus: (status) => {\n        return (status >= 200 && status < 300) || status === 412\n      },\n    })\n      .then((res) => {\n        if (callback) callback()\n        if (res.data.photos && res.data.photos.photo) {\n          const images = this.convertInImagesList(res.data.photos.photo)\n          this.setState((state) => {\n            return {\n              images: [...state.images, ...images],\n              has_more_images: res.data.photos.photo.length === PER_PAGE_COUNT,\n              next_page: next_page + 1,\n            }\n          })\n        }\n      })\n      .catch((error) => {\n        this.showMessage(\n          \"error\",\n          \"unable to fetch images, something went wrong\"\n        )\n      })\n  }\n\n  fetchImagesBySearchTag = (tag, callback) => {\n    const { next_page } = this.state\n    axios({\n      method: \"GET\",\n      url: `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${API_KEY}&tags=${tag}&per_page=${PER_PAGE_COUNT}&page=${next_page}&format=json&nojsoncallback=1&safe_search=2`,\n      validateStatus: (status) => {\n        return (status >= 200 && status < 300) || status === 412\n      },\n    })\n      .then((res) => {\n        if (callback) callback()\n        if (res.data.photos && res.data.photos.photo) {\n          const images = this.convertInImagesList(res.data.photos.photo)\n          this.setState((state) => {\n            return {\n              images: [...state.images, ...images],\n              has_more_images: res.data.photos.photo.length === PER_PAGE_COUNT,\n              next_page: next_page + 1,\n            }\n          })\n        }\n      })\n      .catch((error) => {\n        this.showMessage(\n          \"error\",\n          \"unable to fetch images, something went wrong\"\n        )\n      })\n  }\n\n  convertInImagesList = (photos) => {\n    const images = []\n    for (let i = 0; i < photos.length; i++) {\n      if (photos[i].id) {\n        const img_obj = {\n          id: photos[i].id,\n          url: getImageUrl(photos[i]),\n        }\n        images.push(img_obj)\n      }\n    }\n    return images\n  }\n\n  onImageSearch = (tag) => {\n    this.setState(\n      {\n        loading: true,\n        images: [],\n        next_page: 1,\n        has_more_images: true,\n        show_search_overlay: false,\n      },\n      () => {\n        if (tag && tag.trim().length > 0) {\n          this.fetchImagesBySearchTag(tag, this.stopLoading)\n          let search_keys = getDataFromLocalStorage(\n            LOCAL_STORAGE.SEARCH_KEY,\n            []\n          )\n          const index = search_keys.findIndex((key) => key === tag)\n          if (index === -1) {\n            if (search_keys.length >= 10) {\n              search_keys = search_keys.slice(1)\n            }\n            search_keys.push(tag)\n            setDataInLocalStorage(LOCAL_STORAGE.SEARCH_KEY, search_keys)\n          }\n        } else {\n          this.fetchRecentImages(this.stopLoading)\n        }\n      }\n    )\n  }\n\n  onChangeSearchText = (event) => {\n    const search_text = event.target.value\n    const search_keys = getDataFromLocalStorage(LOCAL_STORAGE.SEARCH_KEY, [])\n    const filterd_search_keys = filterArrayBySearchText(\n      search_text,\n      search_keys\n    )\n    this.setState(\n      {\n        search_text,\n        search_keys: filterd_search_keys,\n        show_search_overlay: filterd_search_keys.length !== 0,\n      },\n      () => {\n        this.debouncedImageSearch(search_text)\n      }\n    )\n  }\n\n  onClickSearchKey = (search_key) => {\n    if (search_key !== 0) {\n      this.setState(\n        {\n          search_text: search_key,\n          loading: true,\n          images: [],\n          next_page: 1,\n          has_more_images: true,\n          show_search_overlay: false,\n        },\n        () => {\n          this.fetchImagesBySearchTag(search_key, this.stopLoading)\n        }\n      )\n    }\n  }\n\n  fetchMoreImages = () => {\n    const { search_text } = this.state\n    if (search_text.length === 0) {\n      this.fetchRecentImages()\n    } else {\n      this.fetchImagesBySearchTag(search_text)\n    }\n  }\n\n  render() {\n    const {\n      columns,\n      images,\n      search_text,\n      has_more_images,\n      show_search_overlay,\n      search_keys,\n      loading,\n    } = this.state\n    return (\n      <div style={{ paddingTop: `${APP_LAYOUT.APP_HEADER_HEIGHT}px` }}>\n        <Header\n          title=\"PicSearch\"\n          search_text={search_text}\n          show_search_overlay={show_search_overlay}\n          onClickSearchKey={this.onClickSearchKey}\n          search_keys={search_keys}\n          onSearch={this.onImageSearch}\n          onChange={this.onChangeSearchText}\n        />\n        <div\n          id=\"albumContainer\"\n          className=\"sai-overflow-y-auto sai-pad-5\"\n          style={{ height: `calc(100vh - ${APP_LAYOUT.APP_HEADER_HEIGHT}px)` }}\n        >\n          {loading ? (\n            <Loader count={[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]} />\n          ) : (\n            <InfiniteScroll\n              scrollableTarget=\"albumContainer\"\n              dataLength={images.length} //This is important field to render the next data\n              hasMore={has_more_images}\n              loader={<Loader />}\n              endMessage={\n                <div className=\"sai-text-center sai-pad-10\">\n                  <b>Yay! You have seen it all</b>\n                </div>\n              }\n              scrollThreshold={0.8}\n              next={this.fetchMoreImages}\n            >\n              <Album columns={columns} images={images} />\n            </InfiniteScroll>\n          )}\n        </div>\n        <Footer />\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './data/styles/index.scss';\n\nimport App from './app';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}